# Deep Gaussian Process Priors for Bayesian Image Reconstruction

This repository contains code to run the experiments in our preprint at https://arxiv.org/abs/2412.10248.

The dependencies can be installed with
```
conda install -c conda-forge python=3.11 numpy=1.24 fenics numba sparse_dot_mkl=0.9 matplotlib pandas scikit-sparse progressbar2 scikit-image arviz
```
The install can take some time, so it might make sense to split this list into chunks. The version numbers ensure compatibility of the Python packages.

To run experiments, add this repository to the python path. Individual examples can then be run via, e.g.,
```
python examples/interp_circle_square/main_interpolation.py
```
The first run of experiments with the Radon transform operator will take longer, because the operator is stored as a `scipy.sparse` matrix. Once it has been computed and stored, it will be reused in later runs.

The run-time and tolerance plots in the paper were plotted using the results of many individual experiments. E.g., the run-time plots use results generated with `examples/interp_circle_sqare/main_runtime_result.py`. This script uses an additional two command line arguments. The first sets `alpha`, the regularity parameter, and the second defines `id_no`, an identifier that sets the random seed (e.g., ranging from 0 to 9). Once all required experiments have been run, the comparison plot is generated by running `examples/interp_circle_sqare/main_plot_runtime_comparison.py`. The equivalent files for the tolerance plots are `examples/interp_circle_sqare/main_tol_result.py` (using command line inputs to set `tol` and `id_no`), and `examples/interp_circle_sqare/main_plot_tol_comparison.py` for plotting from the saved outputs of the first script.

Additional plots for illustrational purposes were generated using the code in `extra_plots/`. The correlation length plots were created using the saved output from earlier experiments by running `main_plot_corr_lengths.py`.
